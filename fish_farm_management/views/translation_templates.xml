<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="language_switcher" inherit_id="web.webclient_bootstrap">
        <xpath expr="//div[@class='o_main_navbar']" position="inside">
            <div class="btn-group o_language_switcher">
                <button class="btn btn-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="fa fa-language"/>
                </button>
                <div class="dropdown-menu">
                    <t t-foreach="available_languages" t-as="lang">
                        <a t-attf-class="dropdown-item #{session.context.get('lang') == lang[0] and 'active' or ''}" 
                           href="#" t-att-data-lang="lang[0]"
                           t-att-onclick="'fish_farm_management.translation.changeLanguage(&quot;' + lang[0] + '&quot;)'">
                            <t t-esc="lang[1]"/>
                        </a>
                    </t>
                </div>
            </div>
        </xpath>
    </template>

    <template id="dynamic_translations">
        <t t-call="web.bootstrap">
            <script type="text/javascript" src="/fish_farm_management/static/src/js/translation.js"/>
        </t>
    </template>
</odoo>