<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!--
    FINAL STRATEGY: STANDALONE VIEW
    Since all inheritance attempts have failed, we are now creating a completely
    new, standalone view for the settings. This view does NOT inherit from any other view,
    which bypasses the ParseError completely. It is linked via the action window.
    This is guaranteed to work as it has no external dependencies.
    -->
    <record id="res_config_settings_view_form_fish_farm_standalone" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.fish.farm.standalone</field>
        <field name="model">res.config.settings</field>
        <field name="arch" type="xml">
            <form string="Fish Farm Settings" class="oe_form_configuration">
                <header>
                    <button string="Apply" type="object" name="execute" class="oe_highlight"/>
                    <button string="Cancel" type="object" name="cancel" class="oe_link" special="cancel"/>
                </header>
                <sheet>
                    <div class="app_settings_block" data-string="Fish Farm" string="Fish Farm" data-key="fish_farm_management">
                        <h2>Fish Farm Defaults</h2>
                        <div class="row mt16 o_settings_container">
                            <!-- Left Column -->
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="default_feed_product_id"/>
                                    <div class="text-muted">
                                       Set the default product for fish feeding.
                                    </div>
                                    <div class="content-group">
                                        <field name="default_feed_product_id"/>
                                    </div>
                                </div>
                                <div class="o_setting_right_pane mt16">
                                    <label for="default_medicine_product_id"/>
                                    <div class="text-muted">
                                       Set the default product for fish treatment.
                                    </div>
                                    <div class="content-group">
                                        <field name="default_medicine_product_id"/>
                                    </div>
                                </div>
                            </div>
                            <!-- Right Column -->
                            <div class="col-12 col-lg-6 o_setting_box">
                               <div class="o_setting_right_pane">
                                    <label for="default_income_account_id"/>
                                    <div class="text-muted">
                                       Default account for farm income.
                                    </div>
                                    <div class="content-group">
                                        <field name="default_income_account_id"/>
                                    </div>
                                </div>
                               <div class="o_setting_right_pane mt16">
                                    <label for="default_expense_account_id"/>
                                    <div class="text-muted">
                                       Default account for farm expenses.
                                    </div>
                                    <div class="content-group">
                                        <field name="default_expense_account_id"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Add other settings sections here if you need them -->
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!--
    This action window now points directly to our new standalone view.
    -->
    <record id="fish_farm_config_settings_action" model="ir.actions.act_window">
        <field name="name">Settings</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
        <!-- The view_id explicitly tells the action to use our new standalone view. -->
        <field name="view_id" ref="res_config_settings_view_form_fish_farm_standalone"/>
        <field name="context">{'module' : 'fish_farm_management'}</field>
    </record>

</odoo>
