<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="cost_analysis_report">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <h2 class="text-center" data-i18n="Cost Analysis Report">Cost Analysis Report</h2>
                    <h4 class="text-center" t-esc="doc.name"/>
                    
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <h4 data-i18n="Cost Breakdown">Cost Breakdown</h4>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th data-i18n="Cost Type">Cost Type</th>
                                        <th data-i18n="Amount">Amount</th>
                                        <th data-i18n="Percentage">Percentage</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="cost_breakdown" t-as="cost">
                                        <tr>
                                            <td t-esc="cost['type']"/>
                                            <td t-esc="cost['amount']"/>
                                            <td t-esc="cost['percentage']"/>%
                                        </tr>
                                    </t>
                                    <tr class="font-weight-bold">
                                        <td data-i18n="Total">Total</td>
                                        <td t-esc="total_cost"/>
                                        <td>100%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h4 data-i18n="Cost Distribution">Cost Distribution</h4>
                            <div style="height: 300px;">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-12">
                            <h4 data-i18n="Cost vs Production">Cost vs Production</h4>
                            <div style="height: 300px;">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-12">
                            <h4 data-i18n="Profitability Analysis">Profitability Analysis</h4>
                            <table class="table table-bordered">
                                <tr>
                                    <td data-i18n="Total Revenue">Total Revenue</td>
                                    <td t-esc="total_revenue"/>
                                </tr>
                                <tr>
                                    <td data-i18n="Total Cost">Total Cost</td>
                                    <td t-esc="total_cost"/>
                                </tr>
                                <tr class="font-weight-bold">
                                    <td data-i18n="Net Profit">Net Profit</td>
                                    <td t-esc="net_profit"/>
                                </tr>
                                <tr>
                                    <td data-i18n="Profit Margin">Profit Margin</td>
                                    <td t-esc="profit_margin"/>%
                                </tr>
                                <tr>
                                    <td data-i18n="Cost per KG">Cost per KG</td>
                                    <td t-esc="cost_per_kg"/>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-12 text-right">
                            <p><strong data-i18n="Report Date">Report Date</strong>: <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d %H:%M')"/></p>
                        </div>
                    </div>
                </div>
            </t>
        </t>
    </template>
</odoo>